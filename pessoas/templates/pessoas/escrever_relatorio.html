{% extends 'pessoas/base.html' %}

{% block title %}Escrever Relatório{% endblock %}

{% block extra_css %}

<style>

    /* ======= Escopo: página de relatório médico ======= */
.relatorio-consulta {
  max-width: 800px;
  margin: 50px auto;
  background-color: #fff;
  border: 1px solid #e4e9f1;
  border-radius: 10px;
  padding: 30px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.05);
  font-family: 'Inter', sans-serif;
}

/* ======= Cabeçalho ======= */
.relatorio-consulta h2 {
  font-size: 1.8rem;
  color: #2c4964;
  margin-bottom: 1.2rem;
  border-left: 4px solid #3a8fd1;
  padding-left: 10px;
}

.relatorio-consulta p {
  color: #444;
  font-size: 1rem;
  margin-bottom: 1rem;
  line-height: 1.6;
}

.relatorio-consulta hr {
  border: none;
  height: 1px;
  background-color: #e0e6ec;
  margin: 1.5rem 0;
}

/* ======= Formulário ======= */
.relatorio-consulta form {
  background: #f9fbfd;
  border-radius: 8px;
  padding: 20px;
}

.relatorio-consulta label {
  display: block;
  font-weight: 600;
  color: #2c4964;
  margin-bottom: 8px;
}

.relatorio-consulta textarea,
.relatorio-consulta input[type="text"],
.relatorio-consulta select {
  width: 100%;
  padding: 12px 14px;
  border: 1px solid #cfd6e0;
  border-radius: 8px;
  background-color: #fff;
  font-size: 1rem;
  color: #333;
  resize: vertical;
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.relatorio-consulta textarea:focus,
.relatorio-consulta input:focus,
.relatorio-consulta select:focus {
  outline: none;
  border-color: #3a8fd1;
  box-shadow: 0 0 0 3px rgba(58, 143, 209, 0.15);
}

/* ======= Botões ======= */
.relatorio-consulta button,
.relatorio-consulta a {
  display: inline-block;
  padding: 10px 18px;
  border-radius: 8px;
  text-decoration: none;
  font-weight: 600;
  transition: background-color 0.2s ease, transform 0.15s ease;
  margin-top: 10px;
  margin-right: 8px;
}

/* Botão verde principal */
.relatorio-consulta button[type="submit"] {
  background-color: #3cb878;
  color: #fff;
  border: none;
}
.relatorio-consulta button[type="submit"]:hover {
  background-color: #34a169;
  transform: translateY(-1px);
}

/* Botão cinza (Voltar) */
.relatorio-consulta a {
  background-color: #e3e8ee;
  color: #2c4964;
}
.relatorio-consulta a:hover {
  background-color: #d7dde5;
  transform: translateY(-1px);
}

/* ======= Espaçamento ======= */

.relatorio-consulta form div {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column !important;
}

.relatorio-consulta form > *:not(:last-child) {
  margin-bottom: 1rem;
}

/* Fim relatório médico */

</style>

{% endblock %}

{% block content %}
<div class="relatorio-consulta">
    <h2>Relatório da Consulta</h2>
    <p>
        <strong>Paciente:</strong> {{ consulta.paciente.username }} {{ consulta.paciente.get_full_name }}<br>
        <strong>Data:</strong> {{ consulta.data_hora|date:"d/m/Y, H:i" }}
    </p>
    <hr>

    <form method="post">
        {% csrf_token %}
        <div class="mb-3">
            <label for="id_relatorio" class="form-label"><strong>Relatório Médico:</strong></label>
            {{ form.relatorio }}
        </div>
        <button type="submit" class="btn btn-success">Salvar Relatório e Concluir Consulta</button>
        <a href="{% url 'painel_medico' %}" class="btn btn-secondary">Voltar</a>
    </form>
</div>
{% endblock %}
